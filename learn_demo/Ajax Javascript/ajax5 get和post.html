<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>

<script src="封装ajax.js"></script>
<script>
    window.onload = function(){
        var btn = document.getElementById("btn");

        btn.onclick = function(){
            //用post
            var info = null;
            try {
                info = new XMLHttpRequest();
            } catch (e) {
                info = new ActiveXObject("Microsoft.XMLHTTP");
            }

            info.open('post','post.php',true);
            //post方式，数据放在send()里面作为参数传递，用到enctype(),没有缓存问题
            info.setRequestHeader('content-type','application/x-www-form-urlencoded');
            info.send('username=leo&age=30');
            info.onreadystatechange = function(){
                if(info.readyState == 4){
                    if(info.status ==200){
                        alert(info.responseText);
                    }else{
                        alert("服务器错误");
                    }
                }
            }

        }



    }


</script>



<body>
<input type="button" id="btn" value="提交">

</body>
</html>